<!doctype html>
<html>
<head>
      <script src="//api.tiles.mapbox.com/mapbox.js/v2.1.7/mapbox.js"></script>
      <link rel="stylesheet" href="//api.tiles.mapbox.com/mapbox.js/v2.1.7/mapbox.css"/>
</head>
<body>
<div id="map-canvas">
    </div>
    <script>
      // declare Mapbox access token
      L.mapbox.accessToken = "pk.eyJ1IjoibWljaGFlbG5ldCIsImEiOiItbWFqc3BvIn0.iuqIsFSNd5Ut-5_1W4RR_g";
      // initialize map
      var markers = new L.FeatureGroup();
      var map = L.mapbox.map(document.getElementById("map-canvas"), "michaelnet.12df45f8");
      navigator.geolocation.getCurrentPosition(function(position) {
        viewModel.userPosition(position);
        map.setView(L.latLng(position.coords.latitude, position.coords.longitude), 12);
      }, function(error) {
        alert("This application needs to talk to your browser about your geolocation in order to work properly. If you declined permission, refresh your browser to try again. Otherwise, consider using a browser with geolocation enabled. Error Message: " + error)
      });
    </script>
</body>
</html>
